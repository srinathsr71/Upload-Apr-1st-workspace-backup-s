package Stepdefinitions;


import io.cucumber.java.en.*;
import io.restassured.RestAssured;
import io.restassured.path.json.JsonPath;
import io.restassured.response.Response;
import io.restassured.response.ResponseBody;
import io.restassured.specification.RequestSpecification;
import org.json.simple.JSONObject;

import static io.restassured.RestAssured.given;
import static org.junit.Assert.assertEquals;
public class stepDefinition {
	public RequestSpecification httpRequest;
    public Response response;
    public int ResponseCode;
    public ResponseBody body;
    public JSONObject requestParams;
    public JsonPath jsnpath;
    public String s;

	

	@Given("User has API body for adding a pet")
	public void user_has_api_body_for_adding_a_pet() {
		RestAssured.baseURI = "https://fakestoreapi.com/";
        httpRequest = given();
         requestParams = new JSONObject();
		
	}
	@Given("I pass request body as content type")
	public void i_pass_request_body_as_content_type() {
		requestParams.put("title", title);
        requestParams.put("price",13.5);
        requestParams.put("description","lorem ipsum set");
        requestParams.put("image","https://i.pravatar.cc");
        requestParams.put("cateogry","electronic");
        httpRequest.body(requestParams.toJSONString());
        Response response =httpRequest.post("products");
        ResponseBody body = response.getBody();
        JsonPath jsnpath = response.jsonPath();
        s = jsnpath.getJsonObject("id").toString();
        System.out.println(response.getStatusLine());
        System.out.println(body.asString());
		
	}
	@When("User calls create a resource API")
	public void user_calls_create_a_resource_api() {
	   
		
	}
	@Then("API returns a response back")
	public void api_returns_a_response_back() {
	   
		
	}
	@Then("user validates response code as {int}")
	public void user_validates_response_code_as(Integer int1) {
	    
		
	}



}
